<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

    <!-- 캐러셀 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>

    <title>LCK 모아</title>

    <!-- 구글폰트 -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet">


    <style>
        * {
            font-family: 'Noto Sans KR', sans-serif;
        }

        html, body {
            margin: 0; /* 화면 외곽에 여백 없애기 꽉 채우기 */
        }

        .nav-section .section-header {
            line-height: 70px;
            text-transform: uppercase;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25);
            position: relative;
            z-index: 10;
        }

        .nav-section .section-header > .inner {
            margin: auto;
            width: calc(100%);
        }

        .nav-section .tabs-nav {
            list-style: none;
            border-left: 1px solid rgb(218, 218, 218);
            float: right;
            letter-spacing: 1px;
            -webkit-box-shadow: inset 1px 0 rgb(255, 255, 255);
            box-shadow: inset 1px 0 rgb(255, 255, 255);
            padding: 0;
        }

        .nav-section img {
            height: 130px;
            object-fit: cover;
        }

        .nav-section .tabs-nav {
            position: relative;
            top: 50px;
        }

        .nav-section .tabs-nav li {
            border-right: 1px solid rgb(218, 218, 218);
            float: left;
            position: relative;
            -webkit-box-shadow: 1px 0 rgb(255, 255, 255);
            box-shadow: 1px 0 rgb(255, 255, 255);

        }

        .nav-section .tabs-nav a {
            display: block;
            padding: 0 1.36em;
            position: relative;
            color: black;
            font-weight: bold;
        }

        .carousel-item img {
            display: flex;
            width: calc(100vw - 5%);
            height: calc(100vh - 400px);
            max-height: calc(100vh - 400px);
            object-fit: cover;
            overflow: hidden;
        }


        .title_schedule {
            margin: 20px 0px;
            text-align: center;
            font-size: large;
            font-weight: bold;
        }

        .title_rank {
            margin: 20px 0px;
            text-align: center;
            font-size: large;
            font-weight: bold;
        }

        .info_section {
            height: calc(100%);
            display: flex;
            flex-direction: row;
        }


        .schedule_month_wrap {
            margin: 0px 20px;
            width: calc(100vw - 30%); /* 나머지를 폭으로 주기 */
            display: flex;
            flex-direction: column; /* 정렬 방향 */
            justify-content: flex-start; /* 적절히 공간을 배치 */
        }

        .games {
            text-align: center;
        }

        .game {
            text-align: center;
        }

        .rank_wrap {
            margin: 0px 40px;
            width: calc(100vw - 70%);
            height: fit-content;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
        }

        .schedule_info .games {
            display: flex;
        }

        .schedule_info .games div {
            width: 33.33%;
            text-align: center;
        }

        .video_wrap {
            width: 100%;
            padding-top: 20px;
            display: flex;
            flex-wrap: wrap; /* 넘치면 다음 줄로 내려가기 */
            justify-content: center;
            text-align: center;
        }

        .video_wrap .card {
            display: flex;
            margin: 10px 20px;
            width: 25%;

        }

        .btn-primary {
            background-color: grey;
            border-color: grey;
        }

        .news_wrap {
            width: 100%;
            padding-top: 20px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            text-align: center;
        }

        .news_wrap .card {
            display: flex;
            margin: 10px 20px;
            width: 25%;

        }

        .btn-primary {
            background-color: grey;
            border-color: grey;
        }


    </style>

    <script>

        $('.carousel').carousel({
            interval: 2000 //기본 5초
        })

        $(document).ready(function () {
            $("#month_game_list").html("");
            scheduleList();
        });

        function scheduleList() {
            $.ajax({
                type: "GET",
                url: "/api/games",
                data: {},
                success: function (response) {
                    console.log(response)
                    if (response["result"] == "success") {
                        let data = response['data']
                        for (let i = 0; i < data.length; i++) {
                            let gameDate = data[i]['gameDate'];
                            let gameTime = data[i]['gameTime'];
                            let homeTeamName = data[i]['homeTeamName']
                            let homeTeamScore = data[i]['homeTeamScore']
                            let awayTeamScore = data[i]['awayTeamScore']
                            let awayTeamName = data[i]['awayTeamName']
                            let temp = `<tr class="schedule_info">
                                            <th scope="col" class="date">${gameDate}</th>
                                            <th scope="col" class="time">${gameTime}</th>
                                            <th scope="col" class="games">
                                                <div>${homeTeamName}</div>
                                                <div>${homeTeamScore} : ${awayTeamScore}</div>
                                                <div>${awayTeamName}</div>
                                            </th>
                                        </tr>`
                            $('#month_game_list').append(temp)
                        }
                    }
                }
            })
        }

        $(document).ready(function () {
            $("#ranking").html("");
            rankingChart();
        });

        function rankingChart() {
            $.ajax({
                type: "GET",
                url: "/api/rank",
                data: {},
                success: function (response) {
                    console.log(response)
                    if (response["result"] == "success") {
                        let data = response['data']
                        for (let i = 0; i < data.length; i++) {
                            let number = data[i]['number'];
                            let teamName = data[i]['teamName'];
                            let win = data[i]['win']
                            let loss = data[i]['loss']
                            let winningRate = data[i]['winningRate']
                            let point = data[i]['point']
                            let temp = `<tr class="ranking_info">
                                            <th scope="col" class="name">${number} ${teamName}</th>
                                            <th scope="col" class="win">${win}</th>
                                            <th scope="col" class="loss">${loss}</th>
                                            <th scope="col" class="winningRate">${winningRate}</th>
                                            <th scope="col" class="point">${point}</th>
                                        </tr>`
                            $('#ranking').append(temp)
                        }
                    }
                }
            })
        }

        $(document).ready(function () {
            $("#news").html("");
            news();
        });

        function news() {
            $.ajax({
                type: "GET",
                url: "/api/news",
                data: {},
                success: function (response) {
                    console.log(response)
                    if (response["result"] == "success") {
                        let data = response['data']
                        for (let i = 0; i < data.length; i++) {
                            let newsTitle = data[i]['newsTitle'];
                            let newsImg = data[i]['newsImg'];
                            let newsUrl = data[i]['newsUrl'];
                            let newsText = data[i]['newsText'];
                            let temp = `<div class="card">
                                            <img class="card-img-top" src="${newsImg}" alt="Card image cap">
                                            <div class="card-body">
                                                <h5 class="card-title">${newsTitle}</h5>
                                                <p class="card-text">${newsText}</p>
                                                <a href="${newsUrl}" class="btn btn-primary">기사 더보기</a>
                                            </div>
                                        </div>`
                            $('#news').append(temp)
                        }
                    }
                }
            })
        }

        $(document).ready(function () {
            $("#hl_video").html("");
            hlVideo();
        });

        function hlVideo() {
            $.ajax({
                type: "GET",
                url: "/api/highlight",
                data: {},
                success: function (response) {
                    console.log(response)
                    if (response["request"] == "success") {
                        let data = response['data']
                        for (let i = 0; i < data.length; i++) {
                            let title = data[i]['title'];
                            let videoImg = data[i]['imgUrl'];
                            let videoId = data[i]['videoId'];
                            let temp = `<div class="card">
                                            <img class="card-img-top" src="${videoImg}" alt="Card image cap">
                                            <div class="card-body">
                                                <h5 class="card-title">${title}</h5>
                                                <a href="https://www.youtube.com/watch?v=${videoId}&list=PLIWtfvmBcNofWeZRz8xxz9ZzVpgocF8rR" class="btn btn-primary">영상 보기</a>
                                            </div>
                                        </div>`
                            $('#hl_video').append(temp)
                        }
                    }
                }
            })
        }

        $(function () {
            var tabAnchor = $('.tabs-nav li'),
                tabPanel = $('.tabs-panel');

            tabAnchor.click(function (e) {
                e.preventDefault()

                $(this).find('a').addClass('active');
                $(this).siblings().find('a').removeClass('active');

                tabPanel.hide();

                var $targetIdx = $(this).index();
                console.log($targetIdx);
                tabPanel.eq($targetIdx).show();

            })

            tabAnchor.eq(0).trigger('click');

        })


    </script>
</head>

<body>
<header>
    <section class="nav-section" id="nav">
        <header class="section-header clearfix">
            <div class="inner">
                <!--                <h2>LCKMOA</h2>-->
                <img src="static/title1.png">
                <ul class="tabs-nav">
                    <li><a href="#">Main</a></li>
                    <li><a href="#">LCK 기사</a></li>
                    <li><a href="#">구단 정보</a></li>
                    <li><a href="#">하이라이트</a></li>
                </ul>
            </div>
        </header>
    </section>
</header>
<main>
    <section class="tabs-section">
        <section class="tabs-panel">
            <div id="demo" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    <!-- 슬라이드 쇼 -->
                    <div class="carousel-item active">
                        <!--가로-->
                        <img class="d-block w-100"
                             src="https://img9.yna.co.kr/etc/inner/KR/2019/04/14/AKR20190414019400017_02_i_P4.jpg"
                             alt="First slide">
                        <div class="carousel-caption d-none d-md-block">
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100"
                             src="https://image.fmkorea.com/files/attach/new/20201101/14339012/47592066/3175559973/755ff91e0b08ea642400c0d3720a3e34.jpg"
                             alt="Second slide">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100"
                             src="https://pbs.twimg.com/media/DIkdi1dVoAARMXe.jpg"
                             alt="Third slide">
                    </div>
                    <!-- / 슬라이드 쇼 끝 -->

                    <!-- 왼쪽 오른쪽 화살표 버튼 -->
                    <a class="carousel-control-prev" href="#demo" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <!-- <span>Previous</span> -->
                    </a>
                    <a class="carousel-control-next" href="#demo" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <!-- <span>Next</span> -->
                    </a>
                    <!-- / 화살표 버튼 끝 -->

                    <!-- 인디케이터 -->
                    <ul class="carousel-indicators">
                        <li data-target="#demo" data-slide-to="0" class="active"></li>
                        <!--0번부터시작-->
                        <li data-target="#demo" data-slide-to="1"></li>
                        <li data-target="#demo" data-slide-to="2"></li>
                    </ul>
                    <!-- 인디케이터 끝 -->
                </div>
            </div>
            <section class="info_section">
                <div class="schedule_month_wrap">
                    <div class="title_schedule"> 경기 일정</div>
                    <table class="table" id="schedule_table">
                        <thead>
                        <tr>
                            <th scope="col">날짜</th>
                            <th scope="col">시간</th>
                            <th scope="col" class="games">경기</th>
                            <!--                <th scope="col">중계</th>-->
                        </tr>
                        </thead>
                        <tbody>
                        <tbody id="month_game_list">
                        <tr class="schedule_info">
                            <th scope="col" class="date">tt1</th>
                            <th scope="col" class="time">tt1</th>
                            <th scope="col" class="game">tt3</th>
                            <!--                <th scope="col" class="broadcast">tt4</th>-->
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div class="rank_wrap">
                    <div class="title_rank"> 순위표</div>
                    <table class="table" id="rank_table">
                        <thead>
                        <tr>
                            <th scope="col">순위/팀명</th>
                            <th scope="col">승</th>
                            <th scope="col">패</th>
                            <th scope="col">승률</th>
                            <th scope="col">득실</th>
                            <!--                <th scope="col">중계</th>-->
                        </tr>
                        </thead>
                        <tbody>
                        <tbody id="ranking">
                        <tr class="ranking_info">
                            <th scope="col" class="name">tt1</th>
                            <th scope="col" class="win">tt2</th>
                            <th scope="col" class="loss">tt3</th>
                            <th scope="col" class="winningRate">tt4</th>
                            <th scope="col" class="point">tt5</th>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </section>

        </section>
        <section class="tabs-panel">
            <div class="news_wrap" id="news">
                <div class="card">
                    <img class="card-img-top" src="..." alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Card title</h5>
                        <p class="card-text">Some quick example text to build on the card title and make up the bulk of
                            the card's content.</p>
                        <a href="#" class="btn btn-primary">Go somewhere</a>
                    </div>
                </div>
            </div>
        </section>
        <section class="tabs-panel">
            <div class="team_wrap">
            </div>
        </section>
        <section class="tabs-panel">
            <div class="video_wrap" id="hl_video">
                <div class="card">
                    <img class="card-img-top" src="https://i.ytimg.com/vi/qy0mQK844oI/maxresdefault.jpg"
                         alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">title 자리</h5>
                        <a href="https://www.youtube.com/watch?v=qnLz3g0JqO0&list=PLIWtfvmBcNofWeZRz8xxz9ZzVpgocF8rR&t=0s"
                           class="btn btn-primary">Go somewhere</a>
                    </div>
                </div>
                <div class="card">
                    <img class="card-img-top" src="https://i.ytimg.com/vi/qy0mQK844oI/maxresdefault.jpg"
                         alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">title 자리</h5>
                        <a href="https://www.youtube.com/watch?v=qnLz3g0JqO0&list=PLIWtfvmBcNofWeZRz8xxz9ZzVpgocF8rR&t=0s"
                           class="btn btn-primary">Go somewhere</a>
                    </div>
                </div>
            </div>
        </section>
    </section>

</main>

</body>
</html>